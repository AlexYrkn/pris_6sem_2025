# Проект: Интеллектуальная система модерации комментариев в соцсетях

## Состав команды

| Участник             | Роль 1             | Роль 2               |
|----------------------|--------------------|----------------------|
| Михаил Корниенко     | Product Owner      |                      |
| Александр Юркин      | Software Architect | Data Engineer        |

---

## 1. Цели и предпосылки

### Зачем идем в разработку продукта?

- Автоматизация анализа пользовательских комментариев в соцсетях.

- Повышение эффективности и скорости выявления токсичного контента.

- Снижение затрат на ручную модерацию.

### Почему станет лучше от использования ML?

- Удаление субъективного фактора в оценке комментариев.

- Повышение точности классификации.

- Обработка до 1 млн комментариев/сутки с минимальными задержками.

### Бизнес-требования и ограничения

- Высокая чувствительность к ложным негативным срабатываниям.

- Хранение данных в соответствии с 152-ФЗ.

- Минимальное вмешательство модераторов (только при спорных случаях).

### Функциональные и нефункциональные требования

- Поддержка анализа текста на нескольких языках.

- SLA: 99.5% доступности.

- RPS: не менее 1000 req/sec в пике.

- Latency: не выше 500ms на полный цикл от получения комментария до результата.

### MVP и техдолг

**В MVP**:

- Обработка комментариев;

- Модель классификации токсичности и тональности;

- Веб-интерфейс модерации.

**В техдолге**:

- Обработка медиа;

- Поддержка обратной связи от модераторов;

- Онлайн обучение модели.

---

## 2. Методология

### ML-задача

- Классификация текста (multi-label): тональность, токсичность.

### Требуемые данные

- Текст комментариев;

- Метки модераторов (для обучения)

- Метаданные: язык, канал, время, IP.

### Метрики качества

- F1 score по классу "токсично": минимум 0.87;

- AUC ROC по тональности: > 0.9;

- Precision для "токсично": > 0.92 (важна высокая точность, чтобы избежать ложных алертов).

### Риски

- Дрейф данных: новые формы языка и сленга;

- Ошибки аннотаций на старте;

- Атаки (adversarial input).

---

## 3. Подготовка пилота

### Оценка пилота

- Сравнение с текущей ручной системой модерации;

- Количество предотвращённых инцидентов;

- Уровень вовлеченности аудитории (до/после).

### Успешный пилот:

- Снижение нагрузки на модераторов > 60%;

- Минимум 90% алертов, одобренных человеком;

- Улучшение метрик вовлеченности (+5% взаимодействий).

---

## 4. Архитектура решения

- **Frontend**: Web-панель модерации и аналитики

- **API Gateway**: Приём и маршрутизация комментариев

- **Event Bus**: Apache Kafka

- **ML Core**: модель токсичности + мета-классификатор

- **Storage**:

    - Основное хранилище: ClickHouse + PostgreSQL

    - Архив: S3

- **Monitoring**: Grafana + Prometheus

(см. `diagrams/architecture.png`)

---

## 5. Диаграммы моделей

| Тип диаграммы                | Название файла                             |
|------------------------------|--------------------------------------------|
| Диаграмма прецедентов        | [Диаграмма](diagrams/use-case.svg)         |
| Диаграмма последовательности | [Диаграмма](diagrams/sequence.svg)         |
| ER-диаграмма                 | [Диаграмма](diagrams/er-model.svg)         |
| Архитектура системы          | [Диаграмма](diagrams/architecture.svg)     |
| Бизнес-процессы (BPMN)       | [Диаграмма](diagrams/business-process.svg) |

---

## 6. Риски и масштабирование

- Распределённая архитектура: каждый компонент может масштабироваться независимо (Kafka consumers, ML pods).

- Модель обновляется без простоя (canary deployment);

- Возможность fallback на модераторов при сбоях.

---

## 7. Итог

Проект направлен на внедрение интеллектуальной системы анализа пользовательских реакций в соцсетях. Он создаёт ценность через снижение издержек и повышение качества модерации.
